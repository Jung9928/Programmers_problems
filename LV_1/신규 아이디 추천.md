```JAVA
import java.util.*;

class Solution {
    public String solution(String new_id) {
        String answer = "";
        
        // 1단계
        String id1 = "";
        id1 = new_id.toLowerCase();
        System.out.println("id1 : " + id1);
        
        // 2단계
        String id2 = "";
        for(int i=0; i<id1.length(); i++) {
            if(Character.isLetterOrDigit(id1.charAt(i)))
                id2 += id1.charAt(i);
            else if(id1.charAt(i) == '-')
                id2 += id1.charAt(i);
            else if(id1.charAt(i) == '_')
                id2 += id1.charAt(i);
            else if(id1.charAt(i) == '.')
                id2 += id1.charAt(i);
        }
        System.out.println("id2 : " + id2);
        
        // 3단계
        String id3 = id2.replace("..", ".");
        while(id3.contains("..")) {
            id3 = id3.replace("..", ".");
        }
        System.out.println("id3 : " + id3);
        
        // 4단계
        String id4 = id3;
        if(id4.length() > 0) {
            if(id4.charAt(0) == '.') {
                id4 = id4.substring(1, id4.length());
            }
        }
        
        if(id4.length() > 0) {
            if(id4.charAt(id4.length()-1) == '.') {
                id4 = id4.substring(0, id4.length()-1);
            }
        }
        System.out.println("id4 : " + id4);
        
        // 5단계
        String id5 = id4;
        if(id5.isEmpty()) 
            id5 = "a";
        System.out.println("id5 : " + id5);
        
        // 6단계
        String id6 = id5;
        if(id6.length() > 15) {
            id6 = id6.substring(0, 15);
            
            if(id6.charAt(id6.length()-1) == '.')
                id6 = id6.substring(0, 14);
        }
        System.out.println("id6 : " + id6);
        
        // 7단계
        String id7 = id6;
        if(id7.length() <= 2) {
            while(id7.length() != 3) {
                id7 += id7.charAt(id7.length()-1); 
            }
            answer = id7;
            return answer;
        }
        else 
            answer = id7; 
        System.out.println("answer : " + answer);
        
        return answer;
    }
}
```
